(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[,function(t,e,n){"use strict";n.r(e);var r=n(2),i=n(3),o=n(6),a=n(7),u=n(4),c=n.n(u),f=n(9),s=n.n(f);function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}function v(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var w=window.innerWidth/2*(window.innerHeight/2),b=document.getElementById("game-of-life-canvas"),g=!1;b.addEventListener("mousedown",function(t){t.preventDefault(),g=!0,x(t)}),b.addEventListener("mouseup",function(t){t.preventDefault(),null,g=!1}),b.addEventListener("mousemove",function(t){t.preventDefault(),x(t)}),b.addEventListener("touchstart",function(t){g=!0,k(t)}),b.addEventListener("touchend",function(t){null,g=!1}),b.addEventListener("touchmove",function(t){k(t)});var k=function(t){t.preventDefault(),Array.from(t.touches).forEach(x)},x=function(t){if(g){var e=b.getBoundingClientRect(),n=b.width/e.width,r=b.height/e.height,i=(t.clientX-e.left)*n,o=(t.clientY-e.top)*r,a=Math.min(Math.floor(i),M-1),u=Math.min(Math.floor(o),I-1);z.paint(a,u,E[window.UI.state.size],window.UI.state.selectedElement),{x:a,y:u}}},E=[1,3,5,8,13,21,34,55,89],S=function(t){function e(t){var n;return h(this,e),(n=v(this,m(e).call(this,t))).state={paused:!1,size:4,selectedElement:r.a.Water},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(e,c.a.Component),p(e,[{key:"playPause",value:function(){this.state.paused?F():(cancelAnimationFrame(window.animationId),window.animationId=null),this.setState({paused:!this.state.paused})}},{key:"bumpSize",value:function(t,e){t.preventDefault(),this.setState({size:(this.state.size+e+E.length)%E.length})}},{key:"render",value:function(){var t=this,e=this.state,n=e.size,i=e.paused,o=e.selectedElement;return c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){return t.playPause()}},i?"▶️":"⏸️"),i&&c.a.createElement("button",{onClick:function(){return z.tick()}},"tick"),c.a.createElement("button",{style:{minWidth:"80px"},onClick:function(e){return t.bumpSize(e,1)},onContextMenu:function(e){return t.bumpSize(e,-1)}},"Size:",E[n]),Object.keys(r.a).map(function(e){return function(t,e,n){var i=r.a[t];return c.a.createElement("button",{className:i==e?"selected":"",key:t,onClick:function(){n(i)}},"  ",t,"  ")}(e,o,function(e){return t.setState({selectedElement:e})})}))}}]),e}();s.a.render(c.a.createElement(S,{ref:function(t){window.UI=t}}),document.getElementById("ui"));var _=new(function(){function t(){h(this,t),this.fps=document.getElementById("fps"),this.frames=[],this.lastFrameTimeStamp=performance.now()}return p(t,[{key:"render",value:function(){var t=performance.now(),e=t-this.lastFrameTimeStamp;this.lastFrameTimeStamp=t;var n=1/e*1e3;this.frames.push(n),this.frames.length>30&&this.frames.shift();for(var r=1/0,i=-1/0,o=0,a=0;a<this.frames.length;a++)o+=this.frames[a],r=Math.min(this.frames[a],r),i=Math.max(this.frames[a],i);var u=o/this.frames.length;this.fps.textContent="\n ".concat((w/1e3).toFixed(0),"Kpx\n FPS:").concat(Math.round(u),"\n    ").trim()}}]),t}());n.d(e,"renderLoop",function(){return F}),n.d(e,"canvas",function(){return P}),n.d(e,"width",function(){return M}),n.d(e,"height",function(){return I}),n.d(e,"universe",function(){return z}),n.d(e,"ratio",function(){return C});var C=2,O=window.innerWidth/C,j=window.innerHeight/C,z=r.b.new(O,j),M=z.width(),I=z.height(),P=document.getElementById("game-of-life-canvas");P.height=I,P.width=M;var F=function t(){_.render(),z.tick(),window.animationId=requestAnimationFrame(t)};!function(t){var e=t.canvas,n=t.universe,r=o({canvas:e}),u=r.texture(),c=n.cells(),f=n.width(),s=n.height(),l=new Uint8Array(i.c.buffer,c,f*s*4),h=r.texture({width:f,height:s,data:l}),d=r({frag:a,uniforms:{t:function(t){return t.tick},data:function(){return h({width:f,height:s,data:l})},resolution:function(t){return[t.viewportWidth,t.viewportHeight]},backBuffer:u},vert:'\n  // boring "pass-through" vertex shader\n  precision mediump float;\n  attribute vec2 position;\n  varying vec2 uv;\n  void main () {\n    uv = position;\n    gl_Position = vec4(position, 0, 1);\n  }',attributes:{position:[[-1,4],[-1,-1],[4,-1]]},count:3});r.frame(function(t){r.clear({color:[0,0,0,1]}),d(),u({copy:!0})})}({canvas:P,universe:z}),F()},function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"c",function(){return f}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return p});var r=n(3);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}var u=Object.freeze({Empty:0,Wall:1,Powder:2,Water:3,Gas:4,Clone:5,Fire:6}),c=Math.random.bind(Math)||function(){throw new Error("wasm-bindgen: Math.random.bind(Math) does not exist")};function f(){return c()}var s=function(){function t(){i(this,t)}return a(t,[{key:"free",value:function(){var t=this.ptr;this.ptr=0,function(t){r.b(t)}(t)}},{key:"tick",value:function(){return r.h(this.ptr)}},{key:"width",value:function(){return r.i(this.ptr)}},{key:"height",value:function(){return r.e(this.ptr)}},{key:"cells",value:function(){return r.d(this.ptr)}},{key:"paint",value:function(t,e,n,i){return r.g(this.ptr,t,e,n,i)}}],[{key:"__wrap",value:function(e){var n=Object.create(t.prototype);return n.ptr=e,n}},{key:"new",value:function(e,n){return t.__wrap(r.f(e,n))}}]),t}();var l=new TextDecoder("utf-8"),h=null;function d(t,e){return l.decode((null!==h&&h.buffer===r.c.buffer||(h=new Uint8Array(r.c.buffer)),h).subarray(t,t+e))}function p(t,e){throw new Error(d(t,e))}},function(t,e,n){"use strict";var r=n.w[t.i];t.exports=r;n(2);r.j()},,,,function(t,e){t.exports="precision mediump float;\n#define GLSLIFY 1\nuniform float t;\nuniform vec2 resolution;\nuniform sampler2D backBuffer;\nuniform sampler2D data;\n\nvarying vec2 uv;\n\n// clang-format off\nvec3 hsv2rgb_1_0(vec3 c) {\n  vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n  vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n  return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\n\n\n// clang-format on\n\nvoid main() {\n  vec3 color;\n  //   float r = abs(sin(t / 25.));\n  //   if (length(uv) < r && length(uv) > r - 0.1) {\n  // color = hsv2rgb(vec3(sin(t * 0.01), 0.5, 0.5));\n\n  vec2 textCoord = (uv * vec2(0.5, -0.5)) + vec2(0.5);\n  vec4 data = texture2D(data, textCoord);\n  float type = data.r * 255.;\n  float hue = 0.0;\n  float saturation = 0.6;\n  float lightness = 0.3 + data.g * 0.5;\n\n  if (type == 0.) {\n    hue = 0.1;\n    lightness = 0.0;\n  } else if (type == 1.) {\n    hue = 0.1;\n    saturation = 0.1;\n    lightness = 0.4;\n\n  } else if (type == 2.) {\n    hue = 0.1;\n  } else if (type == 3.) {\n    hue = 0.6;\n  } else if (type == 4.) {\n    hue = 0.5;\n    saturation = 0.5;\n  } else if (type == 5.) {\n    hue = 0.05;\n  } else if (type == 6.) {\n    hue = (data.g * 0.1);\n    lightness = 0.5 + data.g * 0.5;\n  }\n  color = hsv2rgb_1_0(vec3(hue, saturation, lightness));\n\n  gl_FragColor = vec4(color, 1.0);\n}"}]]);